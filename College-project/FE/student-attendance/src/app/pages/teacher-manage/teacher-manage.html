<div class="container mt-4">
  <h3 class="mb-4">Manage Teachers</h3>

  <!-- ===============================
       ADD TEACHER FORM
  ================================ -->
  <div class="card mb-4 p-3">
    <div class="card-header">Add New Teacher</div>
    <div class="card-body">
      <div class="row g-3">

        <!-- Name -->
        <div class="col-md-3">
          <label class="form-label">Teacher Name</label>
          <input class="form-control" placeholder="Name" [(ngModel)]="teacher_name">
        </div>

        <!-- Username -->
        <div class="col-md-3">
          <label class="form-label">Username</label>
          <input class="form-control" placeholder="Username" [(ngModel)]="username">
        </div>

        <!-- Password -->
        <div class="col-md-2">
          <label class="form-label">Password</label>
          <input type="password" class="form-control" placeholder="Password" [(ngModel)]="password">
        </div>

        <!-- Years of Experience -->
        <div class="col-md-2">
          <label class="form-label">Experience (Years)</label>
          <input type="number" class="form-control" [(ngModel)]="years_of_experience">
        </div>

        <!-- Subject -->
        <div class="col-md-2">
          <label class="form-label">Specialised Subject</label>
          <input class="form-control" placeholder="Subject" [(ngModel)]="specialised_subject">
        </div>

      </div>

      <div class="row g-3 mt-3">
        <!-- Department -->
        <div class="col-md-4">
          <label class="form-label">Department</label>
          <select class="form-select" [(ngModel)]="dept_id">
            <option value="">Select Department</option>
            @for (d of departments(); track d.dept_id) {
              <option [value]="d.dept_id">{{ d.dept_name }}</option>
            }
          </select>
        </div>
      </div>

      <button class="btn btn-success mt-3" (click)="addTeacher()">Add Teacher</button>
    </div>
  </div>

  <!-- ===============================
       TEACHER LIST
  ================================ -->
  <table class="table table-bordered" >
    <thead class="table-light">
      <tr>
        <th>#</th>
        <th>Name</th>
        <th>Username</th>
        <th>Dept</th>
        <th>Action</th>
      </tr>
    </thead>
    <tbody>
      @for (t of teachers(); track t.teacher_id) {
        <tr>
          <td>{{ t.teacher_id }}</td>
          <td>{{ t.teacher_name }}</td>
          <td>{{ t.username }}</td>
          <td>{{ t.dept_name }}</td>
          <td>
            <button class="btn btn-danger btn-sm" (click)="deleteTeacher(t.teacher_id)">
              Delete
            </button>
          </td>
        </tr>
      }@empty {
        <tr>
              <div class="alert alert-info">
    No teachers found.
  </div>
        </tr>
      }
    </tbody>
  </table>


</div>
